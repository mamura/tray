@host = localhost
@port = 8080
@baseUrl = http://{{host}}:{{port}}/api/v1
@json = application/json
@today = {{$datetime "YYYY-MM-DD"}}
@sellerId = 9
@saleId = 17

### ---------------------------------------------------------------------------
### Sellers
### ---------------------------------------------------------------------------

### [Sellers] Create
# @name createSeller
POST {{baseUrl}}/sellers
Content-Type: {{json}}
Accept: {{json}}

{
  "name": "Seller {{$randomInt 100 999}}",
  "email": "seller{{$timestamp}}@example.test"
}

### [Sellers] List (paginated)
GET {{baseUrl}}/sellers?per_page=10
Accept: {{json}}

### [Sellers] Show (uses captured sellerId)
GET {{baseUrl}}/sellers/{{sellerId}}
Accept: {{json}}

### [Sellers] Update
PUT {{baseUrl}}/sellers/{{sellerId}}
Content-Type: {{json}}
Accept: {{json}}

{
  "name": "Seller Updated {{$randomInt 1000 9999}}",
  "email": "seller{{$timestamp}}@example.test"
}

### [Sellers] Delete
# DELETE {{baseUrl}}/sellers/{{sellerId}}
# Accept: {{json}}

### ---------------------------------------------------------------------------
### Sales
### ---------------------------------------------------------------------------

### [Sales] Create (uses sellerId)
# @name createSale
POST {{baseUrl}}/sales
Content-Type: {{json}}
Accept: {{json}}

{
  "seller_id": {{sellerId}},
  "amount": {{$randomInt 100 5000}},
  "sold_at": "{{today}}"
}

### [Sales] List (all, paginated)
GET {{baseUrl}}/sales?per_page=10
Accept: {{json}}

### [Sales] List with filters (by seller + date range)
GET {{baseUrl}}/sales?seller_id={{sellerId}}&date_from={{today}}&date_to={{today}}&per_page=10
Accept: {{json}}

### [Sales] Show
GET {{baseUrl}}/sales/{{saleId}}
Accept: {{json}}

### [Sales] Update
PUT {{baseUrl}}/sales/{{saleId}}
Content-Type: {{json}}
Accept: {{json}}

{
  "amount": {{$randomInt 200 9000}},
  "sold_at": "{{today}}"
}

### [Sales] Delete
# DELETE {{baseUrl}}/sales/{{saleId}}
# Accept: {{json}}

### [Sales] By Seller (shortcut endpoint)
GET {{baseUrl}}/sellers/{{sellerId}}/sales?date_from={{today}}&date_to={{today}}&per_page=10
Accept: {{json}}

### ---------------------------------------------------------------------------
### Reports
### ---------------------------------------------------------------------------

### [Reports] Admin daily summary
GET {{baseUrl}}/reports/daily/admin?date={{today}}
Accept: {{json}}

### [Reports] Sellers daily summaries (only sellers who sold)
GET {{baseUrl}}/reports/daily/sellers?date={{today}}
Accept: {{json}}

### [Reports] Single seller daily summary
GET {{baseUrl}}/reports/daily/sellers/{{sellerId}}?date={{today}}
Accept: {{json}}

### ---------------------------------------------------------------------------
### Commission Re-send
### ---------------------------------------------------------------------------

### [Commission] Resend seller daily commission email (admin action)
POST {{baseUrl}}/sellers/{{sellerId}}/commission/resend
Content-Type: {{json}}
Accept: {{json}}

{
  "date": "{{today}}"
}
